<template>
  <li class="slds-accordion__list-item">
    <section class={accordionClass}>
      <div class="slds-accordion__summary">
        <h3 class="slds-accordion__summary-heading">
          <button
            class="slds-button slds-button_reset slds-accordion__summary-action"
            aria-controls={name}
            aria-expanded="false"
            onclick={toggleAccordion}
          >
            <c-icon
              theme={theme}
              icon-name={accordionIconName}
              size={iconSize}
            ></c-icon>
            <span class="slds-truncate" title={title}>{label}</span>
          </button>
        </h3>
        <c-menu
          if:true={showMenu}
          type="action"
          icon-name="utility:down"
          position={menuPosition}
          size={menuSize}
        >
          <c-menu-item
            for:each={menuitem}
            for:item="record"
            theme={theme}
            name={record.name}
            type={record.type}
            action-url={record.actionUrl}
            open-url-in={record.opeUrlIn}
            record={record.record}
            key={record.record.id}
          ></c-menu-item>
        </c-menu>
      </div>
      <div class="slds-accordion__content" id={name}>
        <slot></slot>
      </div>
    </section>
  </li>
</template>
