<template>
  <div class={carouselClass}>
    <div class="slds-carousel__stage">
      <span
        class="slds-carousel__autoplay slds-m-bottom_x-small"
        if:true={interval}
      >
        <button
          class="slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small"
          onclick={toggleTimer}
          aria-pressed="false"
          title="Stop auto-play"
        >
          <span class="" aria-hidden="true">
            <c-icon
              if:false={isPaused}
              theme={theme}
              icon-name="utility:pause"
              baseurl={iconUrl}
              size="xx-small"
            >
            </c-icon>
            <c-icon
              if:true={isPaused}
              theme={theme}
              icon-name="utility:play"
              baseurl={iconUrl}
              size="xx-small"
            ></c-icon>
          </span>
          <span class="slds-assistive-text">Stop auto-play</span>
        </button>
      </span>

      <div class="slds-is-relative">
        <c-button
          if:true={arrow}
          theme={theme}
          class="slds-button slds-button_icon custom-arrow custom-arrow-left"
          onmousedown={moveLeft}
          disabled={prevDisabled}
          icon-name="utility:chevronleft"
          icon-url={iconUrl}
          icon-size="small"
        ></c-button>
        <c-button
          if:true={arrow}
          theme={theme}
          class="slds-button slds-button_icon custom-arrow custom-arrow-right"
          onmousedown={moveRight}
          disabled={nextDisabled}
          icon-name="utility:chevronright"
          icon-url={iconUrl}
          icon-size="small"
        ></c-button>
        <div
          class="slds-carousel__panels"
          style={panelsStyle}
          data-currentindex={currentIndex}
        >
          <slot></slot>
        </div>
      </div>

      <ul if:true={isSelector} class="slds-carousel__indicators" role="tablist">
        <template for:each={carouselItems} for:item="item" for:index="index">
          <li
            key={item.key}
            class="slds-carousel__indicator"
            role="presentation"
          >
            <a
              class={indicatorClass}
              onclick={setIndex}
              role="tab"
              tabindex="0"
              aria-selected="true"
              data-index={index}
              aria-controls={index}
              title={item.title}
            >
              <span class="slds-assistive-text">{item.assertiveText}</span>
            </a>
          </li>
        </template>
      </ul>

      <div if:false={isSelector} class={thumbnailClass}>
        <template for:each={carouselItems} for:item="item" for:index="index">
          <div
            key={item.key}
            class={thumbnailIndicatorClass}
            data-index={index}
            onclick={setIndex}
          >
            <img src={item.thumbnail} class="slds-p-horizontal_xx-small" />
          </div>
        </template>
      </div>
    </div>
  </div>
</template>
