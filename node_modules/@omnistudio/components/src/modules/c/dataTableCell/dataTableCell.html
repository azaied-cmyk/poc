<template>
  <div
    if:true={cellData}
    onmouseenter={mouseoverField}
    onmouseleave={mouseoutField}
    onclick={onClickFieldValue}
    class={dataTableCellClass}
  >
    <c-output-field
      if:true={showOutputField}
      record={cellData}
      field-name="value"
      field-label={columnData.fieldName}
      field-title={columnData.fieldTitle}
      type={fieldType}
      format={dateFormat}
      extraclass={outputFieldClass}
      prevent-navigation={preventNavigation}
    ></c-output-field>
    <c-icon
      if:true={showIconField}
      icon-name="action:check"
      variant="inverse"
      bg-color="#54698d"
      extraclass={actionIconClass}
      data-cell-position={cellData.position}
      size="x-small"
      baseurl={iconUrl}
      theme={theme}
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
    >
    </c-icon>
    <c-icon
      style="padding: 0.5em;"
      if:true={cellData.editable}
      class={iconClass}
      icon-name="utility:edit"
      data-cell-position={cellData.position}
      baseurl={iconUrl}
      size="x-small"
      theme={theme}
      onclick={editDataCell}
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
    >
    </c-icon>
    <!--Checkbox-->
    <c-input
      class="editableField inputCheckbox"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      theme={theme}
      data-cell-position={cellData.position}
      data-checkbox="true"
      onblur={editDataCell}
      onchange={focusCheckbox}
      checked={cellData.value}
      type="checkbox"
      if:true={checkBoxType}
      onmouseleave={mouseoverLeaveBox}
    >
    </c-input>
    <!--Currency-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.currency}
      data-cell-position={cellData.position}
      onblur={editDataCell}
      type="number"
      formatter="currency"
      theme={theme}
      value={cellData.value}
    ></c-input>
    <!--Date-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.date}
      data-cell-position={cellData.position}
      theme={theme}
      format={dateFormat}
      output-format={dateFormat}
      value={cellData.value}
      onblur={editDataCell}
      type="date"
      onchange={checkValidity}
    >
    </c-input>
    <!--Date Time-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.datetime}
      data-cell-position={cellData.position}
      theme={theme}
      format={dateFormat}
      output-format={dateFormat}
      value={cellData.value}
      onblur={editDataCell}
      type="datetime"
      onchange={checkValidity}
    >
    </c-input>
    <!--Email-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.email}
      data-cell-position={cellData.position}
      oninput={checkValidity}
      onblur={editDataCell}
      theme={theme}
      type="email"
      value={cellData.value}
    >
    </c-input>
    <!--Number-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.number}
      data-cell-position={cellData.position}
      onblur={editDataCell}
      theme={theme}
      type="number"
      value={cellData.value}
      oninput={checkValidity}
    >
    </c-input>
    <!--Percent-->
    <c-masked-input
      type="text"
      imask={percentMask}
      theme={theme}
      data-row-original-index={cellData.originalItemIndex}
      class="editableField"
      data-field-name={columnData.fieldName}
      if:true={cellData.percent}
      data-cell-position={cellData.position}
      onblur={editDataCell}
      value={cellData.value}
    >
    </c-masked-input>
    <!--URL-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.url}
      data-cell-position={cellData.position}
      onblur={editDataCell}
      theme={theme}
      type="url"
      value={cellData.value}
      oninput={checkValidity}
    >
    </c-input>
    <!--Text-->
    <c-input
      class="editableField"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      if:true={cellData.text}
      data-cell-position={cellData.position}
      onblur={editDataCell}
      theme={theme}
      type="text"
      value={cellData.value}
    >
    </c-input>

    <!--Textarea-->
    <c-textarea
      class="editableField"
      extraclass="slds-show"
      data-field-name={columnData.fieldName}
      data-row-original-index={cellData.originalItemIndex}
      theme={theme}
      if:true={cellData.textarea}
      data-cell-position={cellData.position}
      onblur={editDataCell}
      value={cellData.value}
    >
    </c-textarea>
  </div>
</template>
