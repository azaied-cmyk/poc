<template>
  <div if:false={isCustomLwc} class={errorClass}>
    <div class="slds-grid">
      <label
        if:true={labelVisible}
        class="slds-form-element__label slds-show--inline"
        style="width:auto;"
        for={inputId}
      >
        <abbr if:true={required} class="slds-required" title={requiredLabel}
          >*</abbr
        >
        {label}
      </label>
      <c-tooltip
        class="slds-tooltip_container slds-p-right_x-small slds-p-top_xx-small"
        if:true={fieldLevelHelp}
        icon-url={iconUrl}
        content={fieldLevelHelp}
        extrabuttonclass="slds-m-bottom_xx-small"
        arrowposition={fieldLevelHelpPosition}
        data-field-level-help
      >
      </c-tooltip>
      <slot name="label"></slot>
    </div>
    <div if:true={_isFormula}>
      <div class="slds-grid">
        <label
          class="slds-form-element__label slds-show--inline"
          style="width:auto;"
          for={inputId}
        >
          {label}
        </label>
      </div>
      <input
        type="text"
        class="slds-input"
        readonly
        disabled
        value={maskedValue}
        id={inputId}
      />
    </div>

    <div if:false={static} class={pretextClass}>
      <span if:true={pretext} class="slds-form-element__addon">{pretext}</span>

      <span
        if:true={isIconLeft}
        class="slds-icon_container slds-input__icon_left"
      >
        <c-icon
          icon-name={iconNameLeft}
          color={iconColor}
          theme={theme}
          size={size}
          baseurl={iconUrl}
          extraclass="slds-input__icon"
        >
        </c-icon>
      </span>

      <template if:true={isCurrencySFlocale}>
        <input
          id={inputId}
          if:true={isInput}
          tabindex={tabIndex}
          accesskey={accessKey}
          step={step}
          min={min}
          max={max}
          maxlength={maxLength}
          minlength={minLength}
          class="vlocity-input slds-input"
          type={type}
          inputmode={inputmode}
          disabled={disabled}
          required={required}
          readonly={readOnly}
          placeholder={placeholder}
          onfocus={handleFocus}
          onblur={handleBlur}
          oninput={handleInput}
          onkeyup={handleKeyup}
          onchange={handleChange}
          aria-labelled-by={ariaLabelledBy}
          aria-described-by={ariaDescribedBy}
          aria-label={ariaLabel}
          value={_currencyVal}
        />
      </template>
      <template if:false={isCurrencySFlocale}>
        <input
          class="hiddenNumber slds-hide"
          required={required}
          if:true={isNumber}
          min={min}
          max={max}
          step={step}
          type="number"
          value={value}
        />

        <input
          id={inputId}
          if:true={isInput}
          tabindex={tabIndex}
          accesskey={accessKey}
          step={step}
          min={min}
          max={max}
          maxlength={maxLength}
          minlength={minLength}
          class="vlocity-input slds-input"
          type={type}
          inputmode={inputmode}
          disabled={disabled}
          required={required}
          readonly={readOnly}
          placeholder={placeholder}
          onfocus={handleFocus}
          onblur={handleBlur}
          oninput={handleInput}
          onkeyup={handleKeyup}
          onchange={handleChange}
          aria-labelled-by={ariaLabelledBy}
          aria-described-by={ariaDescribedBy}
          aria-label={ariaLabel}
          autocomplete={autocomplete}
        />
      </template>
      <span
        if:true={isIconRight}
        class="slds-icon_container slds-input__icon_right"
      >
        <c-icon
          icon-name={iconNameRight}
          color={iconColor}
          theme={theme}
          size={size}
          baseurl={iconUrl}
          extraclass="slds-input__icon"
        >
        </c-icon>
      </span>

      <span if:true={posttext} class="slds-form-element__addon"
        >{posttext}</span
      >
      <div if:true={isError} class="slds-form-element__help">
        {errorMessage}
      </div>
    </div>

    <div class="slds-grid">
      <div if:true={static} class="slds-form-element__static">
        {maskedValue}
      </div>
    </div>

    <span if:true={inlineHelp} class="slds-form-element__static"
      >{inlineHelp}</span
    >
  </div>
</template>
